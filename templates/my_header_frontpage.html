{# -*- coding: utf-8 -*-
    Copyright (C) 2020 CERN.
    Copyright (C) 2020 Northwestern University.

    Invenio App RDM is free software; you can redistribute it and/or modify it
    under the terms of the MIT License; see LICENSE file for more details.
#}
<header class="theme header">
<div class="outer-navbar">
    {%- block navbar %}
    <nav id="invenio-nav" class="ui fluid inverted menu borderless">
        <div class="ui grid container">
            {%- block navbar_header %}
            {%- block brand %}
            {%- if config.THEME_LOGO %}
            <a href="/">
                <img class="ui medium image rdm-logo"
                     src="{{ url_for('static', filename=config.THEME_LOGO) }}"/>
            </a>
            {%- else %}
            <a class="logo" href="/">{{ _(config.THEME_SITENAME) }}</a>
            {%- endif %}
            {%- endblock brand %}
            {%- endblock navbar_header %}

            {%- block navbar_inner %}
            {%- block navbar_nav %}
            <ul class="no-dots-list">
                {%- for item in current_menu.submenu('main').children|sort(attribute='order') if item.visible recursive %}
                <div class="item">
                    {%- if item.children %}
                    <div class="dropdown{{ ' active' if item.active else '' }}">
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                           aria-expanded="false" href="{{ item.url }}">{{ item.text|safe }} <b class="caret"></b></a>
                        <ul class="dropdown-menu">{{ loop(item.children|sort(attribute='order')) }}</ul>
                    </div>
                    {%- else %}
                    <li{{ ' class="active"'|safe if item.active and loop.depth == 1 else '' }}>
                    <a href="{{ item.url }}">{{ item.text|safe }}</a></li>
                    {%- endif %}
                    {%- endfor %}
                </div>
            </ul>
            {%- endblock navbar_nav %}

            <div class="right menu">
                <ul class="no-dots-list">
                    <div class="item">
                        {%- block navbar_right %}
                        <li>{%- include config.THEME_HEADER_LOGIN_TEMPLATE %}</li>
                        {%- endblock navbar_right %}
                    </div>
                    {%- endblock navbar_inner %}
                </ul>
            </div>
        </div>
    </nav>
    {%- endblock navbar %}

    {%- block frontpage_search %}
    <div id="frontpage-search-bar" class="ui container fluid cover-page">
        <div class="ui container two column centered middle aligned grid">
            <div class="row middle aligned">
                <div class="sixteen wide column frontpage-search">
        {%- block frontpage_title %}
        <h1 class="ui center aligned header">
          {{ _(config.THEME_FRONTPAGE_TITLE) }}
        </h1>
        {%- endblock frontpage_title %}
        {%- block frontpage_form %}
        <div class="ui center aligned grid">
          <div class="eight wide column">
            <form action="/search" class="ui form">
              <div class="ui fluid big action input">
                <input type="text" name="q" class="form-control" placeholder="Type and press enter to search">
                <button type="submit" class="ui icon search button"><i class="search icon"></i></button>
              </div>
            </form>
          </div>
        </div>
        <div class="ui divider hidden"></div>
        {%- endblock frontpage_form %}
      </div>
    </div>
  </div>
</div>
{%- endblock frontpage_search %}
  </div>
